---
import { getCollection } from "astro:content";
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
  const books = await getCollection('books');

  return books.map(book => ({
    params: { id: book.slug },
    props: { book }
  }));
}

const { book } = Astro.props;
const { data } = book;
const { title, author, img, readtime, description, buy } = data;
---

<Layout title={`${title} - Dev Books`}>
  <h1>{title}</h1>
</Layout>